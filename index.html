<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Time Tracker">
    <title>Clock In/Out App</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='%23667eea'/%3E%3Ctext x='50' y='60' text-anchor='middle' fill='white' font-size='40' font-family='Arial'%3E⏰%3C/text%3E%3C/svg%3E">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="header-left">
                    <h1>Time Tracker</h1>
                    <div id="current-time" class="current-time"></div>
                </div>
                <div class="header-right">
                    <button id="menu-btn" class="menu-btn">⋮</button>
                    <div id="menu-dropdown" class="menu-dropdown hidden">
                        <button id="export-csv-menu" class="menu-item">📊 Export CSV</button>
                        <button id="export-json-menu" class="menu-item">📋 Export JSON</button>
                        <button id="share-email-menu" class="menu-item">📧 Email Report</button>
                        <button id="share-menu" class="menu-item">📤 Share</button>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <div class="worker-info-section">
                <div class="input-group">
                    <label for="worker-name">Worker Name</label>
                    <input type="text" id="worker-name" class="input-field" list="worker-list" placeholder="Enter worker name...">
                    <datalist id="worker-list"></datalist>
                </div>
                
                <div class="input-group">
                    <label for="work-location">Work Location</label>
                    <input type="text" id="work-location" class="input-field" list="location-list" placeholder="Enter work location...">
                    <datalist id="location-list"></datalist>
                </div>
            </div>

            <div class="status-section">
                <div id="status" class="status">Clocked Out</div>
                <div id="session-time" class="session-time">00:00:00</div>
                <div id="worker-display" class="worker-display"></div>
            </div>

            <div class="action-buttons">
                <button id="clock-in-btn" class="btn btn-in">Clock In</button>
                <button id="lunch-btn" class="btn btn-lunch" disabled>Start Lunch</button>
                <button id="clock-out-btn" class="btn btn-out" disabled>Clock Out</button>
            </div>

            <div class="summary-section">
                <div class="daily-summary">
                    <h3>Today's Total</h3>
                    <div id="daily-total" class="time-display">00:00:00</div>
                </div>

                <div class="weekly-summary">
                    <h3>This Week</h3>
                    <div id="weekly-total" class="time-display">00:00:00</div>
                </div>
            </div>

            <div class="history-section">
                <h3>Recent Sessions</h3>
                <div id="session-history" class="session-list"></div>
            </div>

            <div class="week-view">
                <h3>Week View</h3>
                <div id="week-display" class="week-grid"></div>
            </div>

        </main>
    </div>

    <script src="script.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    }, function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>
</html>